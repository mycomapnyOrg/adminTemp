define("github/magic-move",["exports","invariant"],function(e,t){function n(){return new Promise(window.requestAnimationFrame)}function r(e){var t=new WeakMap,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=a.value;t.set(c,c.getBoundingClientRect())}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return t}function o(e,t,r){var o,i,c,s;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return o=t.get(e),i=r.get(e),(0,a.default)(o&&i,"Must have old and new positions for the element to animate -- github/magic-move.js:28"),c=o.left-i.left,s=o.top-i.top,u.next=7,regeneratorRuntime.awrap(n());case 7:return e.style.transform="translateZ(0) translate("+c+"px, "+s+"px)",e.style.transition="transform 0s",u.next=11,regeneratorRuntime.awrap(n());case 11:return e.style.transform="",e.style.transition="",u.next=15,regeneratorRuntime.awrap(new Promise(function(t){return e.addEventListener("transitionend",t,{once:!0})}));case 15:return u.abrupt("return",u.sent);case 16:case"end":return u.stop()}},null,this)}Object.defineProperty(e,"__esModule",{value:!0}),e.recordPositions=r,e.animate=function(e,t){var n=r(e),a=[],i=!0,c=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var d=u.value;a.push(o(d,t,n))}}catch(e){c=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(c)throw s}}return Promise.all(a)};var a=function(e){return e&&e.__esModule?e:{default:e}}(t)}),define("github/project-updater",["exports","./magic-move","./typecast","./debounce","./fetch","delegated-events","./query-selector"],function(e,t,n,r,o,a,i){function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e){g&&clearTimeout(g);var t=(0,i.query)(document,".js-project-updated-message");t.textContent=e,t.classList.remove("d-none"),g=setTimeout(function(){t.textContent="",t.classList.add("d-none")},3e3)}}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function l(e,t){var n="column-"+e.id,r=document.getElementById(n);if(r)return r;var o=document.createElement("include-fragment");return o.id=n,o.src=t+"/"+e.id,o}function d(e,t){var n="card-"+e,r=document.getElementById(n);if(r)return r;var o=document.createElement("include-fragment");return o.id=n,o.src=t+"/"+e,o.onerror=function(){o.remove()},o}function m(e,t){var n=Array.from(e.querySelectorAll(".js-project-column")).map(function(e){return e.getAttribute("data-id")});return t.columns.map(function(e){return String(e.id)}).join(",")!==n.join(",")}function f(e,t){var n=t.querySelector(".js-project-column-automation-footer");if(n){var r=(0,i.query)(n,".js-project-column-automation-summary");e.automation_summary&&e.purpose?(r.textContent=e.purpose,r.setAttribute("aria-label",e.automation_summary),n.classList.remove("d-none")):n.classList.add("d-none")}}function v(e,t,n,r,o,a){var c=e.content.cloneNode(!0),s=(0,i.query)(c,".js-project-column-navigation-item");s.setAttribute("data-column-id",n),s.setAttribute("data-column-name",r),s.classList.toggle("selected",a),(0,i.query)(c,".js-column-nav-name").textContent=r,(0,i.query)(c,".js-column-nav-card-count").textContent=o;var u=t.querySelectorAll(".js-project-column-navigation-item").length+1;(0,i.query)(c,".js-column-nav-index").textContent=u.toString(),t.appendChild(c)}function p(e){var t=document.querySelector(".js-project-column-nav");if(t){var n=(0,i.query)(t,".js-column-nav-template",HTMLTemplateElement),r=t.scrollLeft,o=void 0,a=!0,c=!1,s=void 0;try{for(var u,l=document.querySelectorAll(".js-project-column-navigation-item")[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var d=u.value;d.remove(),d.classList.contains("selected")&&(o=d.getAttribute("data-column-id"))}}catch(e){c=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(c)throw s}}var m=!0,f=!1,p=void 0;try{for(var h,j=e[Symbol.iterator]();!(m=(h=j.next()).done);m=!0){var g=h.value;v(n,t,g.id.toString(),g.name,g.card_ids.length.toString(),o===g.id.toString())}}catch(e){f=!0,p=e}finally{try{!m&&j.return&&j.return()}finally{if(f)throw p}}t.scrollLeft=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateProject=void 0,e.displayUpdateMessage=s,e.deleteColumnNav=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=document.querySelectorAll(".js-project-column-navigation-item")[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;if(e===i.getAttribute("data-column-id"))return void i.remove()}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},e.addColumnNav=function(e){var t=document.querySelector(".js-project-column-nav");t&&v((0,i.query)(t,".js-column-nav-template",HTMLTemplateElement),t,e.getAttribute("data-id")||"",(0,i.query)(e,".js-project-column-name").textContent,(0,i.query)(e,".js-column-card-count").textContent,!0)},e.updateProjectColumnAutomation=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e.columns[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,c=document.getElementById("column-"+i.id);c&&f(i,c)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}};var h=c(n),j=c(r),g=void 0;e.updateProject=(0,j.default)(function(e,n){var r,c,v,j,g,y,b,L,C,x,k,w,E,T,S,q,A,M,I,H,D,_,R,P,B,F,O,U,N,K,W,$,V,J,G,X,Z,z,Q,Y,ee,te,ne,re,oe,ae,ie,ce,se,ue,le,de,me,fe;return regeneratorRuntime.async(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(s(n.message),r=e.querySelectorAll(".js-project-column"),c=(0,t.recordPositions)(r),v=e.getAttribute("data-url"),j=e.getAttribute("data-columns-url"),g=e.getAttribute("data-cards-url"),ve.t0=n.state,ve.t0){ve.next=11;break}return ve.next=10,regeneratorRuntime.awrap((0,o.fetchJSON)(v));case 10:ve.t0=ve.sent;case 11:if(y=ve.t0,(0,a.fire)(e,"will-update-project",y),b=document.activeElement,!m(e,y)){ve.next=50;break}for((0,a.fire)(e,"will-update-project-columns"),L={},C=document.createDocumentFragment(),x=!0,k=!1,w=void 0,ve.prev=21,E=y.columns[Symbol.iterator]();!(x=(T=E.next()).done);x=!0)S=T.value,q=l(S,j),(A=q.querySelector(".js-project-column-cards"))&&(L[A.id]=A.scrollTop),C.appendChild(q);ve.next=29;break;case 25:ve.prev=25,ve.t1=ve.catch(21),k=!0,w=ve.t1;case 29:ve.prev=29,ve.prev=30,!x&&E.return&&E.return();case 32:if(ve.prev=32,!k){ve.next=35;break}throw w;case 35:return ve.finish(32);case 36:return ve.finish(29);case 37:(M=e.querySelector(".js-new-project-column-container"))&&M.remove(),(I=(0,i.query)(e,".js-new-column-blankslate")).remove(),u(e),e.appendChild(C),M&&(e.appendChild(M),(H=(0,i.query)(M,".js-new-column-button")).classList.toggle("d-none",0===y.columns.length)),e.appendChild(I),I.classList.toggle("d-none",y.columns.length>0),p(y.columns);for(D in L)(A=(0,h.default)(document.getElementById(D),HTMLElement)).scrollTop=L[D];return ve.next=50,regeneratorRuntime.awrap((0,t.animate)(r,c));case 50:_=e.querySelectorAll(".js-project-column-card"),R=(0,t.recordPositions)(_),P={},B=!0,F=!1,O=void 0,ve.prev=56,U=y.columns[Symbol.iterator]();case 58:if(B=(N=U.next()).done){ve.next=82;break}for(K=N.value,W=!0,$=!1,V=void 0,ve.prev=63,J=K.card_ids[Symbol.iterator]();!(W=(G=J.next()).done);W=!0)X=G.value,P[X]=d(X,g);ve.next=71;break;case 67:ve.prev=67,ve.t2=ve.catch(63),$=!0,V=ve.t2;case 71:ve.prev=71,ve.prev=72,!W&&J.return&&J.return();case 74:if(ve.prev=74,!$){ve.next=77;break}throw V;case 77:return ve.finish(74);case 78:return ve.finish(71);case 79:B=!0,ve.next=58;break;case 82:ve.next=88;break;case 84:ve.prev=84,ve.t3=ve.catch(56),F=!0,O=ve.t3;case 88:ve.prev=88,ve.prev=89,!B&&U.return&&U.return();case 91:if(ve.prev=91,!F){ve.next=94;break}throw O;case 94:return ve.finish(91);case 95:return ve.finish(88);case 96:Z=!0,z=!1,Q=void 0,ve.prev=99,Y=y.columns[Symbol.iterator]();case 101:if(Z=(ee=Y.next()).done){ve.next=137;break}if(te=ee.value,(ne=document.getElementById("column-"+te.id))&&"INCLUDE-FRAGMENT"!==ne.tagName){ve.next=106;break}return ve.abrupt("return");case 106:for((re=ne.querySelector(".js-project-column-name"))&&(re.textContent=te.name,(oe=ne.querySelector(".js-project-column-name-field"))instanceof HTMLInputElement&&(oe.value=te.name,oe.setAttribute("value",te.name))),(ae=ne.querySelector(".js-column-card-count"))&&(ae.textContent=te.card_ids.length),f(te,ne),ie=document.createDocumentFragment(),ce=!0,se=!1,ue=void 0,ve.prev=115,le=te.card_ids[Symbol.iterator]();!(ce=(de=le.next()).done);ce=!0)me=de.value,ie.appendChild(P[me]);ve.next=123;break;case 119:ve.prev=119,ve.t4=ve.catch(115),se=!0,ue=ve.t4;case 123:ve.prev=123,ve.prev=124,!ce&&le.return&&le.return();case 126:if(ve.prev=126,!se){ve.next=129;break}throw ue;case 129:return ve.finish(126);case 130:return ve.finish(123);case 131:u(fe=(0,i.query)(ne,".js-project-column-cards")),fe.appendChild(ie);case 134:Z=!0,ve.next=101;break;case 137:ve.next=143;break;case 139:ve.prev=139,ve.t5=ve.catch(99),z=!0,Q=ve.t5;case 143:ve.prev=143,ve.prev=144,!Z&&Y.return&&Y.return();case 146:if(ve.prev=146,!z){ve.next=149;break}throw Q;case 149:return ve.finish(146);case 150:return ve.finish(143);case 151:return(0,a.fire)(e,"update-project"),ve.next=154,regeneratorRuntime.awrap((0,t.animate)(_,R));case 154:b&&document.activeElement!==b&&b.focus();case 155:case"end":return ve.stop()}},null,this,[[21,25,29,37],[30,,32,36],[56,84,88,96],[63,67,71,79],[72,,74,78],[89,,91,95],[99,139,143,151],[115,119,123,131],[124,,126,130],[144,,146,150]])},100)}),define("github/project-cards-filter",["exports","./history","./typecast","./query-selector"],function(e,t,n,r){function o(e,t){var n=e[t];return n||(n={tokenFilters:[],matchIfMissing:!1},e[t]=n),n}function a(e,t,n){var r=e.tokenFilters.find(function(e){return e.token===t});r?r.negated=n:e.tokenFilters.push({token:t,negated:n}),e.matchIfMissing=!1}function i(e,t){for(var n in t){var r=e.getAttribute("data-card-"+n)||"",o=[];""!==r.trim()&&(o=JSON.parse(r));var a=t[n];if(a.matchIfMissing){if(o.length>0)return!1}else{var i=!0,c=!1,s=void 0;try{for(var u,l=a.tokenFilters[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var d=u.value;if("title"===n){if(!function(e,t){return t.some(function(t){return t.startsWith(e)})}(d.token,o))return!1}else{var m=function(e,t){return-1!==t.indexOf(e)}(d.token,o);if(d.negated){if(m&&o.length>0)return!1}else if(!m)return!1}}}catch(e){c=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(c)throw s}}}}return!0}function c(){var e=document.querySelector(".js-card-filter-input");if(e instanceof HTMLInputElement){var n=(0,r.query)(document,".js-project-columns-container"),c=e.value.trim().toLowerCase(),s=function(e){var t=e.match(v)||[],n={},r=function(e){var t=m.find(function(t){return e.match(new RegExp("^-?"+t+":.*"))});if(t){var r=e.replace(new RegExp("-?"+t+':|"',"g"),"");r.length>0&&a(o(n,t),r,e.startsWith("-"))}else{var i=f.find(function(t){return e==="no:"+t});i?o(n,i).matchIfMissing=!0:e.length>0&&a(o(n,"title"),e,!1)}},i=!0,c=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)r(u.value)}catch(e){c=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(c)throw s}}return n}(c),u=!0,l=!1,d=void 0;try{for(var p,h=n.querySelectorAll(".js-project-column-card")[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var j=p.value,g=i(j,s);if(!g){var y=!0,b=!1,L=void 0;try{for(var C,x=j.querySelectorAll(".js-issue-note, .js-issue-note-reference")[Symbol.iterator]();!(y=(C=x.next()).done);y=!0){if(g=i(C.value,s))break}}catch(e){b=!0,L=e}finally{try{!y&&x.return&&x.return()}finally{if(b)throw L}}}j.classList.toggle("d-none",!g)}}catch(e){l=!0,d=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw d}}var k=!0,w=!1,E=void 0;try{for(var T,S=n.querySelectorAll(".js-project-column")[Symbol.iterator]();!(k=(T=S.next()).done);k=!0){var q=T.value,A=(0,r.query)(q,".js-filtered-column-card-count");if(c.length>0){var M=q.querySelectorAll(".js-project-column-card:not(.d-none)").length,I=M.toString()+" result";1!==M&&(I+="s"),A.textContent=I,A.classList.remove("d-none")}else A.classList.add("d-none")}}catch(e){w=!0,E=e}finally{try{!k&&S.return&&S.return()}finally{if(w)throw E}}(0,r.query)(document,".js-card-filter-clear").classList.toggle("d-none",0===c.length),function(e,n){var r=new URL(window.location.toString()),o=new URLSearchParams(r.search.slice(1));""===n?o.delete(e):o.set(e,n),r.search=o.toString(),(0,t.replaceState)((0,t.getState)(),document.title,r.toString())}(e.name,c),function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=document.querySelectorAll(".js-project-fullscreen-link")[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=a.value,s=new URL(c.getAttribute("href")||"",window.location.origin),u=new URLSearchParams(s.search.slice(1));""===t?u.delete(e):u.set(e,t),s.search=u.toString(),c.setAttribute("href",s.toString())}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}(e.name,c)}}function s(e){!function(e){var t=e.value.slice(0,e.selectionEnd),n=e.value.slice(e.selectionEnd),r=0===e.value.trim().length;if(p.test(t))return!1;var o=h.test(t)&&j.test(n);return r||o}(e)?u():function(e){var t=document.querySelector(".js-card-filter-suggester");if(t instanceof HTMLElement){t.classList.remove("d-none");var n=(e.value.slice(0,e.selectionEnd).match(y)||[])[0],r=(0,d.default)(t.querySelector(".js-card-filter-suggester-helper-container"),HTMLElement),o=(0,d.default)(r.querySelector(".js-card-filter-suggester-helper"),HTMLElement);g.test(e.value)?(o.textContent=e.value,r.classList.remove("d-none")):r.classList.add("d-none");var a=(0,d.default)(t.querySelector(".js-card-filter-suggestions-header"),HTMLElement),i=!1,c=!0,s=!1,u=void 0;try{for(var l,m=t.querySelectorAll(".js-card-filter-suggestion")[Symbol.iterator]();!(c=(l=m.next()).done);c=!0){var f=l.value,v=f.getAttribute("data-value");v&&v.startsWith(n)?(f.classList.remove("d-none"),i=!0):(f.classList.add("d-none"),f.classList.remove("navigation-focus"))}}catch(e){s=!0,u=e}finally{try{!c&&m.return&&m.return()}finally{if(s)throw u}}a.classList.toggle("d-none",!i)}}(e)}function u(){var e=document.querySelector(".js-card-filter-suggester");e instanceof HTMLElement&&e.classList.add("d-none")}function l(e,t){var n=(0,r.query)(document,".js-card-filter-input",HTMLInputElement),o=n.value,a=e+":"+t,i=!0;o.indexOf(a)>=0?(i=!1,a=o.replace(a,"")):o.length&&(a=o.trim()+" "+a),n.value=a,function(e,t,n){var r={assignee:".js-card-filter-assignee",label:".js-card-filter-label"}[t]+"[data-"+t+"="+n+"]",o=!0,a=!1,i=void 0;try{for(var c,s=document.querySelectorAll(r)[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)c.value.setAttribute("aria-pressed",e.toString())}catch(e){a=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw i}}}(i,e,t),c()}Object.defineProperty(e,"__esModule",{value:!0}),e.filterCards=c,e.updateSuggestionsDisplay=s,e.hideSuggestions=u,e.applyFilter=l;var d=function(e){return e&&e.__esModule?e:{default:e}}(n),m=["assignee","author","is","label","repo","state","status","type"],f=["assignee","label"],v=/[^\s:]+:(".*"|[^\s]*)|[^\s]+/g,p=/:"[^"]*"?$/,h=/(^|\s+)[^\s:]+$/,j=/^(\s|$)/,g=/(^|\s)[^\s:]+$/,y=/\S*$/}),define("github/projects/keyboard-mover",["exports","../typecast","invariant","../onfocus","../query-selector"],function(e,t,n,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){switch(e){case" ":return"Space";case"ArrowUp":case"k":case"K":return"up";case"ArrowDown":case"j":case"J":return"down";case"ArrowLeft":case"h":case"H":return"left";case"ArrowRight":case"l":case"L":return"right";case"Enter":return"confirm";case"Escape":return"cancel";default:return e}}Object.defineProperty(e,"__esModule",{value:!0}),e.enableKeyboardMovements=function(e,t){function n(t){if(!a){var n=(0,l.default)(t.currentTarget,HTMLElement);switch(u(t.key)){case"confirm":case"Space":if(n.classList.contains("js-redacted-project-column-card"))return;if(!n.classList.contains("js-keyboard-movable"))return;a=new h(n,e,function(){a=null}),t.preventDefault();break;case"cancel":n.blur(),t.preventDefault();break;case"up":var r=n.previousElementSibling;if(r&&r.classList.contains("js-project-column-card"))(0,l.default)(r,HTMLElement).focus(),t.preventDefault();else{var o=n.closest(".js-project-column");o&&((0,l.default)(o,HTMLElement).focus(),t.preventDefault())}break;case"down":var i=n.nextElementSibling;i&&i.classList.contains("js-project-column-card")&&((0,l.default)(i,HTMLElement).focus(),t.preventDefault())}}}function o(e){if(!i){var n=(0,l.default)(e.currentTarget,HTMLElement);switch(u(e.key)){case"confirm":case"Space":if(!n.classList.contains("js-keyboard-movable"))return;i=new j(n,t,function(){i=null}),e.preventDefault();break;case"cancel":n.blur(),e.preventDefault();break;case"down":var r=n.querySelector(".js-project-column-card");r&&(r.focus(),e.preventDefault());break;case"left":var o=n.previousElementSibling;o&&o.classList.contains("js-project-column")&&((0,l.default)(o,HTMLElement).focus(),e.preventDefault());break;case"right":var a=n.nextElementSibling;a&&a.classList.contains("js-project-column")&&((0,l.default)(a,HTMLElement).focus(),e.preventDefault())}}}var a=void 0,i=void 0;(0,r.onFocus)(".js-project-column-card",function(e){if(a){if(a.isMoving(e))return;a.cancel()}e.addEventListener("keydown",n),e.addEventListener("blur",function t(){a&&a.isMoving(e)||(e.removeEventListener("blur",t),e.removeEventListener("keydown",n))})}),(0,r.onFocus)(".js-project-column",function(e){if(i){if(i.isMoving(e))return;i.cancel()}e.addEventListener("keydown",o),e.addEventListener("blur",function t(){i&&i.isMoving(e)||(e.removeEventListener("blur",t),e.removeEventListener("keydown",o))})})};var l=a(t),d=a(n),m=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=!navigator.userAgent.match(/Macintosh/),p=function(){function e(t,n){s(this,e),this.item=t,this.onDone=n,this.moved=!1,this.moveInProgress=!1,this.blurring=!1,this.blurListener=this.handleBlur.bind(this),this.item.addEventListener("blur",this.blurListener),this.item.classList.add("moving")}return f(e,[{key:"handleBlur",value:function(e){!this.moveInProgress&&e.relatedTarget&&(this.blurring=!0,this.cancel())}},{key:"isMetaKeyPressed",value:function(e){return v?e.ctrlKey:e.metaKey}},{key:"inSearchColumn",value:function(){return null!=this.item.closest(".js-project-search-results")}},{key:"inPendingColumn",value:function(){return null!=this.item.closest(".js-project-pending-cards")}},{key:"findColumn",value:function(e){return e?document.querySelector('.js-project-column[data-id="'+e+'"]'):null}},{key:"findCard",value:function(e){if(!e)return null;var t=document.querySelector('.js-project-column-card[data-card-id="'+e+'"]');return t||(t=document.querySelector('.js-project-column-card[data-content-id="'+e+'"]')),t}},{key:"isColumn",value:function(e){return null!=e&&e.classList.contains("js-project-column")}},{key:"getColumn",value:function(){return this.item.closest(".js-project-column")}},{key:"getColumnName",value:function(){var e=this.getColumn(),t=e&&e.querySelector(".js-project-column-name");return t?t.textContent:""}},{key:"getColumnsContainer",value:function(){return(0,o.query)(document,".js-project-columns-container")}},{key:"getNextColumn",value:function(){var e=this.getColumn();if(e){var t=e.nextElementSibling;if(this.isColumn(t))return t}}},{key:"getPreviousColumn",value:function(){var e=this.getColumn();if(e){var t=e.previousElementSibling;if(this.isColumn(t))return t}}},{key:"getFirstColumn",value:function(){return this.getColumnsContainer().querySelector(".js-project-column")}},{key:"getLastColumn",value:function(){var e=this.getColumnsContainer().querySelectorAll(".js-project-column");return e[e.length-1]}},{key:"getCardID",value:function(e){return e?e.getAttribute("data-card-id")||e.getAttribute("data-content-id")||"":""}},{key:"getColumnID",value:function(e){return e?e.getAttribute("data-id")||"":""}},{key:"isMoving",value:function(e){return e===this.item}},{key:"updateAriaLabel",value:function(){}},{key:"moveTransaction",value:function(e){try{this.moveInProgress=!0,e(this.item),this.blurring||(this.updateAriaLabel(),this.item.focus())}finally{this.moved=!0,this.moveInProgress=!1}}},{key:"done",value:function(){this.item.removeEventListener("blur",this.blurListener),this.item.classList.remove("moving"),this.item.removeAttribute("aria-label"),this.onDone()}},{key:"cancel",value:function(){}}]),e}(),h=function(e){function t(e,n,r){s(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.moveCard=n,o.pendingCard=o.inPendingColumn(),o.searchCard=o.inSearchColumn(),o.columnID=o.getColumnID(o.getColumn()),o.previousCardID=o.getCardID(e.previousElementSibling),o.keydownListener=o.handleKeydown.bind(o),o.item.addEventListener("keydown",o.keydownListener),o.updateStartListener=o.handleUpdateStart.bind(o),o.getColumnsContainer().addEventListener("will-update-project",o.updateStartListener),o.updateEndListener=o.handleUpdateEnd.bind(o),o.getColumnsContainer().addEventListener("update-project",o.updateEndListener),o}return c(t,p),f(t,[{key:"updateAriaLabel",value:function(){var e=this.getCardIndex(),t=e>=0?"to position "+(e+1)+" of "+this.getCardCount():"",n="in "+this.getColumnName()+" column";this.item.setAttribute("aria-label",("Moved card "+t+" "+n).trim())}},{key:"handleUpdateStart",value:function(e){(0,d.default)(e instanceof CustomEvent,"github/projects/keyboard-mover.js:243");var t=this.getColumn();if(t)if(this.searchCard||this.updatePreviousPosition(e.detail)){var n=this.getColumnID(t);this.isColumnInState(e.detail,n)?this.updateSnapshot={columnID:n,indexInColumn:this.getCardIndex()}:this.done()}else this.done();else this.done()}},{key:"handleUpdateEnd",value:function(){var e=this.updateSnapshot;if(this.updateSnapshot=null,e&&this.getColumn()){var t=this.findCard(this.getCardID(this.item)),n=this.getColumnCards(this.findColumn(e.columnID));if(t&&n){this.moveToColumn(n);var r=n.children[e.indexInColumn];t!==r&&this.moveToBeforeCard(n,r)}}else this.done()}},{key:"handleKeydown",value:function(e){var t=this.isMetaKeyPressed(e);switch(u(e.key)){case"up":t?this.moveToTop():this.moveUp(),e.preventDefault();break;case"down":t?this.moveToBottom():this.moveDown(),e.preventDefault();break;case"left":t?this.moveToFirstColumn(e.shiftKey):this.moveLeft(e.shiftKey),e.preventDefault();break;case"right":t?this.moveToLastColumn(e.shiftKey):this.moveRight(e.shiftKey),e.preventDefault();break;case"confirm":this.confirm(),e.preventDefault();break;case"cancel":this.cancel(),e.preventDefault()}}},{key:"updatePreviousPosition",value:function(e){if(!e||!e.columns)return!1;var t=this.getCardID(this.item),n=!0,r=!1,o=void 0;try{for(var a,i=e.columns[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)for(var c=a.value,s=0;s<c.card_ids.length;s++)if(t===c.card_ids[s].toString())return this.previousCardID=c.card_ids[s-1],this.columnID=c.id,!0}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return!1}},{key:"isColumnInState",value:function(e,t){if(!e||!e.columns)return!1;var n=!0,r=!1,o=void 0;try{for(var a,i=e.columns[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){if(t===a.value.id.toString())return!0}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return!1}},{key:"getCardIndex",value:function(){var e=this.getColumnCards(this.getColumn());return e?Array.from(e.children).indexOf(this.item):-1}},{key:"getCardCount",value:function(){var e=this.getColumnCards(this.getColumn());return e?e.querySelectorAll(".js-project-column-card").length:0}},{key:"getColumnCards",value:function(e){return null!=e?e.querySelector(".js-project-column-cards"):null}},{key:"moveToBeforeCard",value:function(e,t){this.moveTransaction(function(n){e.insertBefore(n,t)})}},{key:"moveToColumn",value:function(e){this.moveTransaction(function(t){e.appendChild(t)})}},{key:"moveUp",value:function(){var e=this.item.previousElementSibling,t=this.getColumnCards(this.getColumn());e&&t&&this.moveToBeforeCard(t,e)}},{key:"moveToTop",value:function(){var e=this.getColumnCards(this.getColumn());e&&this.moveTransaction(function(t){e.prepend(t)})}},{key:"moveDown",value:function(){var e=this.item.nextElementSibling,t=this.getColumnCards(this.getColumn());if(e&&t){var n=e.nextElementSibling;n?this.moveToBeforeCard(t,n):this.moveToBottom()}else this.moveToBottom()}},{key:"moveToBottom",value:function(){var e=this.getColumnCards(this.getColumn());e&&this.moveToColumn(e)}},{key:"moveToFirstColumn",value:function(e){var t=this.getColumnCards(this.getFirstColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}},{key:"moveToLastColumn",value:function(e){var t=this.getColumnCards(this.getLastColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}},{key:"moveLeft",value:function(e){var t=this.getColumnCards(this.inSearchColumn()?this.getLastColumn():this.getPreviousColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}},{key:"moveRight",value:function(e){var t=this.getColumnCards(this.getNextColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}},{key:"done",value:function(){m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"done",this).call(this),this.item.removeEventListener("keydown",this.keydownListener),this.getColumnsContainer().removeEventListener("will-update-project",this.updateStartListener),this.getColumnsContainer().removeEventListener("update-project",this.updateEndListener)}},{key:"confirm",value:function(){if(this.moved){var e=this.findColumn(this.columnID);this.pendingCard&&!e&&(e=document.querySelector(".js-project-pending-cards-container.js-project-column")),this.moveCard(this.item,e,{keyboardMove:!0})}this.done()}},{key:"cancel",value:function(){var e=void 0,t=void 0;if(this.moved)if(this.previousCardID){var n=this.findCard(this.previousCardID);n&&(e=n.closest(".js-project-column-cards"),t=n.nextElementSibling)}else this.columnID?(e=this.getColumnCards(this.findColumn(this.columnID)))&&(t=e.firstElementChild):this.pendingCard?(e=document.querySelector(".js-project-column-cards.js-project-pending-cards"))&&(t=e.firstElementChild):this.searchCard&&(e=document.querySelector(".js-project-column-cards.js-project-search-cards"))&&(t=e.firstElementChild);e&&(t?this.moveToBeforeCard(e,t):this.moveToColumn(e)),this.done()}}]),t}(),j=function(e){function t(e,n,r){s(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.moveColumn=n,o.nextColumnID=o.getColumnID(e.nextElementSibling),o.keydownListener=o.handleKeydown.bind(o),o.item.addEventListener("keydown",o.keydownListener),o.updateListener=o.done.bind(o),o.getColumnsContainer().addEventListener("will-update-project-columns",o.updateListener),o}return c(t,p),f(t,[{key:"updateAriaLabel",value:function(){var e=this.getColumnIndex(),t=e>=0?"to position "+(e+1)+" of "+this.getColumnCount():"";this.item.setAttribute("aria-label",("Moved "+this.getColumnName()+" column "+t).trim())}},{key:"getColumnIndex",value:function(){var e=this.getColumnsContainer().querySelectorAll(".js-project-column");return Array.from(e).indexOf(this.item)}},{key:"getColumnCount",value:function(){return this.getColumnsContainer().querySelectorAll(".js-project-column").length}},{key:"handleKeydown",value:function(e){var t=this.isMetaKeyPressed(e);switch(u(e.key)){case"left":t?this.moveToFirstColumn():this.moveLeft(),e.preventDefault();break;case"right":t?this.moveToLastColumn():this.moveRight(),e.preventDefault();break;case"confirm":this.confirm(),e.preventDefault();break;case"cancel":this.cancel(),e.preventDefault()}}},{key:"insertBefore",value:function(e){var t=this.getColumnsContainer();this.moveTransaction(function(n){t.insertBefore(n,e)})}},{key:"moveLeft",value:function(){var e=this.getPreviousColumn();e&&this.insertBefore(e)}},{key:"moveRight",value:function(){var e=this.getNextColumn();if(e){var t=e.nextElementSibling;t&&this.isColumn(t)?this.insertBefore(t):this.moveToLastColumn()}else this.moveToLastColumn()}},{key:"moveToFirstColumn",value:function(){var e=this.getFirstColumn();e&&this.insertBefore(e)}},{key:"moveToLastColumn",value:function(){var e=this.getLastColumn();if(e){var t=e.nextElementSibling;t&&this.insertBefore(t)}}},{key:"done",value:function(){m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"done",this).call(this),this.item.removeEventListener("keydown",this.keydownListener),this.getColumnsContainer().removeEventListener("will-update-project-columns",this.updateListener)}},{key:"confirm",value:function(){this.moved&&this.moveColumn(this.item,{keyboardMove:!0}),this.done()}},{key:"cancel",value:function(){if(this.moved){var e=this.findColumn(this.nextColumnID);e?this.insertBefore(e):this.moveToLastColumn()}this.done()}}]),t}()}),define("github/projects",["./remote-form","./form","./project-updater","./throttled-input","./project-cards-filter","./query-selector","delegated-events","sortablejs","./typecast","./menu","./debounce","./projects/keyboard-mover","./task-list","./facebox","./fetch","./hash-change","./hotkey","invariant","selector-observer","./onfocus","./parse-html","./history","./details","./updatable-content","./sso"],function(e,t,n,r,o,a,i,c,s,u,l,d,m,f,v,p,h,j,g,y,b,L,C,x,k){function w(e){return e&&e.__esModule?e:{default:e}}function E(t,n){(0,e.remoteForm)(t,function(e,t,r){return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,regeneratorRuntime.awrap(n(e,t,r));case 3:o.next=11;break;case 5:if(o.prev=5,o.t0=o.catch(0),!o.t0.response){o.next=10;break}return o.next=10,regeneratorRuntime.awrap((0,Q.default)({div:"#project-update-error"}));case 10:throw o.t0;case 11:case"end":return o.stop()}},null,this,[[0,5]])})}function T(e,t){var n=(0,a.query)(e,".js-column-card-count"),r=parseInt(n.textContent.trim())+t;n.textContent=r.toString();var o=e.getAttribute("data-id");if(o){var i=document.querySelector('.js-project-column-navigation-item[data-column-id="'+o+'"] .js-column-nav-card-count');i&&(i.textContent=r.toString())}}function S(e,t){var n=(0,Z.default)(e.elements.namedItem("keyboard_move"),HTMLInputElement);t&&!0===t.keyboardMove?n.value="true":n.value=""}function q(e,n,r){var o=e.closest(".js-project-column");if(o){T(o,1),n&&(!function(e){e.classList.contains("js-project-pending-cards-container")&&0===e.querySelectorAll(".js-project-column-card").length&&e.remove()}(n),T(n,-1)),function(){var e=document.querySelector(".js-search-cards-next-page");if(e instanceof HTMLInputElement){null==document.querySelector(".js-project-search-cards .js-project-column-card")&&(e.value="1")}}();var i=(0,a.query)(o,".js-project-content-form",HTMLFormElement);i.reset(),function(e,t){var n=(0,Z.default)(e.elements.namedItem("card_id"),HTMLInputElement),r=(0,Z.default)(e.elements.namedItem("content_id"),HTMLInputElement),o=(0,Z.default)(e.elements.namedItem("content_type"),HTMLInputElement);if(!t)return n.value="",r.value="",void(o.value="");var a=t.getAttribute("data-card-id");a?(n.value=a,r.value="",o.value=""):(n.value="",r.value=t.getAttribute("data-content-id")||"",o.value=t.getAttribute("data-content-type")||""),(0,Z.default)(e.elements.namedItem("client_uid"),HTMLInputElement).value=re}(i,e);var c=e.previousElementSibling,s=(0,Z.default)(i.elements.namedItem("previous_card_id"),HTMLInputElement);s.value=c?c.getAttribute("data-card-id")||"":"",S(i,r),(0,t.submit)(i)}}function A(e){var t=e.item;if(!t.closest(".js-project-triage-pane")){q(t,e.from&&e.from.closest(".js-project-column")),t.hasAttribute("tabindex")&&(0,Z.default)(t,HTMLElement).focus()}}function M(e,n){var r=(0,a.query)(document,".js-reorder-columns-form",HTMLFormElement);(0,Z.default)(r.elements.namedItem("column_id"),HTMLInputElement).value=e.getAttribute("data-id")||"";var o=e.previousElementSibling;o&&((0,Z.default)(r.elements.namedItem("previous_column_id"),HTMLInputElement).value=o.getAttribute("data-id")||""),S(r,n),(0,t.submit)(r)}function I(e){if(e.related&&!e.related.matches(".js-project-column"))return!1}function H(e){var t=e.item;M(t),t.hasAttribute("tabindex")&&(0,Z.default)(t,HTMLElement).focus()}function D(e){try{return e&&e.json&&"note_already_converted_to_issue"===e.json.error_code}catch(e){return!1}}function _(e){"Escape"===e.key&&((0,u.deactivate)(e.currentTarget),e.preventDefault(),e.stopImmediatePropagation())}function R(e){var t=(0,a.query)(document,".js-new-project-column-container"),n=(0,a.query)(document,".js-new-column-blankslate"),r=(0,a.query)(t,".js-new-column-button");n.classList.toggle("d-none",!e),r.classList.toggle("d-none",e),e&&P(".js-project-triage-pane",!1)}function P(e,t){if(document.querySelector(".js-project-page-responsive")){var n=!0,r=!1,o=void 0;try{for(var a,i=document.querySelectorAll(".js-project-header, .js-project-columns, .js-project-pane, .js-project-menu-small")[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){a.value.classList.toggle("hide-sm",t)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}var c=document.querySelector(e);c&&(c.classList.toggle("d-none",!t),c.classList.toggle("hide-sm",!t))}function B(e,n){var r=(0,a.closest)(e.currentTarget,".js-project-triage-pane"),o=(0,a.query)(r,".js-project-search-form",HTMLFormElement);(0,a.query)(o,".js-show-triage-field",HTMLInputElement).value=n?"show":"",(0,t.submit)(o)}function F(){var e=document.querySelectorAll(".js-project-search-cards .js-project-column-card"),t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=a.value,s=c.getAttribute("data-content-id");s&&(t.hasOwnProperty(s)&&c.remove(),t[s]=!0)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}function O(e){var t=e.closest(".js-details-container");t&&t.classList.remove("open","Details--on")}function U(e){"Escape"===(0,ee.default)(e)&&O(e.currentTarget)}function N(e){var n=e.closest(".js-project-column");if(n){var r=e.value;if(e.setAttribute("data-preview-text",r),/(gh-|issues\/|pull\/|projects\/|#)\d+/.test(r)){var o=(0,a.query)(n,".js-preview-note-form",HTMLFormElement);(0,Z.default)(o.elements.namedItem("note"),HTMLInputElement).value=r,(0,t.submit)(o)}else(0,a.query)(n,".js-note-preview").innerHTML=""}}function K(e){var t,n,r,o,i,c;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.getAttribute("data-results-url")||"",(n=(0,a.closest)(e,".js-select-menu")).classList.add("is-sending"),r=n.querySelector(".js-select-menu-tab.selected"),o=r?"&search_in="+(r.getAttribute("data-search-in")||""):"",s.next=7,regeneratorRuntime.awrap((0,v.fetchSafeDocumentFragment)(document,t+"?query="+e.value+o));case 7:i=s.sent,n.classList.remove("is-sending"),(c=(0,a.query)(n,".js-project-repository-picker-results")).innerHTML="",c.append(i),c.style.display="block";case 13:case"end":return s.stop()}},null,this)}function W(e){(0,m.enableTaskList)(e);var t=(0,a.query)(e,".js-task-list-field",HTMLTextAreaElement);t.defaultValue=t.value;var n=!0,r=!1,o=void 0;try{for(var i,c=(0,a.querySelectorAll)(e,".task-list-item-checkbox",HTMLInputElement)[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value;s.defaultChecked=s.checked}}catch(e){r=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}}function $(e){var n,r,o,i,c,s,u,l,d,m,f;return regeneratorRuntime.async(function(p){for(;;)switch(p.prev=p.next){case 0:if(m=function(e){c.disabled=e,i.classList.toggle("d-none",!e),(0,t.changeValue)(s,!e)},n=document.querySelector("#facebox .js-project-column-automation")){p.next=4;break}return p.abrupt("return");case 4:return r=(0,a.closest)(n,".js-column-settings-form"),o=(0,a.query)(n,".js-project-automation-options"),i=(0,a.query)(r,".js-project-autmoation-loader"),c=(0,a.query)(r,".js-column-purpose-button",HTMLButtonElement),s=(0,a.query)(r,".js-column-purpose-value:checked",HTMLInputElement),u=n.getAttribute("data-src"),(0,te.default)(u,"github/projects.js:825"),l=n.getAttribute("data-id")||"",d=u+"?id="+l,null!=e&&(d+="&purpose="+e),o.innerHTML="",m(!0),f=void 0,p.prev=17,p.next=20,regeneratorRuntime.awrap((0,v.fetchSafeDocumentFragment)(document,d));case 20:f=p.sent,p.next=25;break;case 23:p.prev=23,p.t0=p.catch(17);case 25:f&&o.appendChild(f),m(!1);case 27:case"end":return p.stop()}},null,this,[[17,23]])}function V(e){var t=e.currentTarget;(0,te.default)(t instanceof HTMLElement,"github/projects.js:950");var n=e.detail.name,r=t.getAttribute("data-channel");return/^projects:\d+$/.test(n)&&n!==r}function J(e){if(document.querySelector(".js-mobile-card-container")){var t=document.createElement("a");t.href="#column-"+e,(0,L.replaceState)(null,"",t.href)}}function G(e){var t=!0,n=!1,r=void 0;try{for(var o,a=document.querySelectorAll(".js-project-page-responsive .js-project-column")[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;i.classList.toggle("hide-sm",e!==i.getAttribute("data-id")),e===i.getAttribute("data-id")?i.setAttribute("data-active-column",""):i.removeAttribute("data-active-column")}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}var c=!0,s=!1,u=void 0;try{for(var l,d=document.querySelectorAll(".js-project-column-navigation-item")[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var m=l.value;m.classList.toggle("selected",e===m.getAttribute("data-column-id"))}}catch(e){s=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(s)throw u}}}var X=w(c),Z=w(s),z=w(l),Q=w(f),Y=w(p),ee=w(h),te=w(j),ne=w(k),re=void 0,oe=document.querySelector(".js-client-uid");oe&&(re=oe.getAttribute("data-uid")||""),(0,i.on)("card:testAction",".js-project-column-card",function(e){A({item:e.currentTarget})}),(0,i.on)("column:testAction",".js-project-column",function(e){H({item:e.currentTarget})}),E(".js-project-update-card",function(e,t){var n,r,o,i,c,s,u;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(t.html());case 2:n=e.sent,r=(0,a.query)(n.html,"*"),o=r.getAttribute("data-card-id")||"",i=void 0,o&&(i=document.querySelector('.js-project-column-card[data-card-id="'+o+'"]')),i||(c=r.getAttribute("data-content-type")||"",s=r.getAttribute("data-content-id")||"",i=document.querySelector('[data-content-type="'+c+'"][data-content-id="'+s+'"]')),u=!(!i||i!==i.ownerDocument.activeElement),i&&i.replaceWith(r),u&&r.focus();case 11:case"end":return e.stop()}},null,this)}),E(".js-convert-note-to-issue-form",function(e,t){var n;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(t.text());case 3:(0,i.fire)(document,"facebox:close"),r.next=15;break;case 6:if(r.prev=6,r.t0=r.catch(0),!D(r.t0.response)){r.next=14;break}(n=(0,a.query)(e,".js-convert-note-error-container")).innerHTML="",n.append((0,b.parseHTML)(document,r.t0.response.json.error_html)),r.next=15;break;case 14:throw r.t0;case 15:case"end":return r.stop()}},null,this,[[0,6]])}),(0,g.observe)(".js-convert-note-to-issue-form .js-menu-container, .js-menu-container.js-column-purpose-selector",{add:function(e){e.addEventListener("keydown",_)},remove:function(e){e.removeEventListener("keydown",_)}}),(0,i.on)("click",".js-add-project-description",function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap((0,Q.default)({div:"#edit-project"}));case 2:e=t.sent,(0,a.query)(e,"#edit-project-name").removeAttribute("autofocus"),(0,a.query)(e,"#edit-project-body").setAttribute("autofocus","");case 5:case"end":return t.stop()}},null,this)}),(0,i.on)("click",".js-refresh-project",function(){window.location.reload()}),E(".js-create-project-column",function(e,t){var r,o,c,s,u,l,d;return regeneratorRuntime.async(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,regeneratorRuntime.awrap(t.html());case 2:r=m.sent,o=(0,a.query)(r.html,"*"),(c=o.classList.contains("js-column-form-container"))?((s=(0,a.closest)(e,".js-column-form-container")).replaceWith(o),$()):((u=(0,a.query)(document,".js-new-project-column-container")).before(r.html),(0,i.fire)(document,"facebox:close"),(0,n.addColumnNav)(o),(l=o.getAttribute("data-id"))&&(G(l),J(l)),(d=(0,a.query)(document,".js-new-column-blankslate")).classList.contains("d-none")||R(!1));case 6:case"end":return m.stop()}},null,this)}),E(".js-update-project-column",function(e,t){var n,r,o,c,s,u;return regeneratorRuntime.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,regeneratorRuntime.awrap(t.html());case 2:n=l.sent,r=(0,a.query)(n.html,"*"),(o=r.classList.contains("js-column-form-container"))?((c=(0,a.closest)(e,".js-column-form-container")).replaceWith(r),$()):(s=e.getAttribute("data-column-id"),(0,te.default)(s,"github/projects.js:342"),(u=document.querySelector('.js-project-column[data-id="'+s+'"]')).replaceWith(r),(0,i.fire)(document,"facebox:close"));case 6:case"end":return l.stop()}},null,this)}),E(".js-delete-project-column",function(e,t){var r,o;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,regeneratorRuntime.awrap(t.text());case 2:if(r=e.getAttribute("data-column-id")){c.next=5;break}throw new Error("Unable to get attribute `data-column-id`");case 5:o=(0,a.querySelectorAll)(document,".js-project-column",HTMLElement),(0,a.query)(document,'.js-project-column[data-id="'+r+'"]').remove(),(0,i.fire)(document,"facebox:close"),(0,n.deleteColumnNav)(r),1===o.length&&R(!0);case 10:case"end":return c.stop()}},null,this)}),(0,g.observe)(".js-project-column-card, .js-project-column",function(e){e.id===document.location.hash.substr(1)&&setTimeout(function(){e.focus()},1)}),E(".js-delete-card",function(e,n){var r,o,i;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,regeneratorRuntime.awrap(n.text());case 2:(r=e.closest(".js-project-column"))&&T(r,-1),o=e.closest(".js-project-triage-pane"),(i=(0,a.closest)(e,".js-project-column-card")).remove(),o&&(0,t.submit)((0,a.query)(o,".js-project-search-form",HTMLFormElement));case 8:case"end":return c.stop()}},null,this)}),(0,Y.default)(function(e){var t=e.target;t&&(t.matches(".js-project-column-card")?(0,Z.default)(t,HTMLElement).focus():t.matches(".js-project-column")&&G(t.getAttribute("data-id")||""))}),(0,i.on)("click",".js-show-project-triage",function(){P(".js-project-menu-pane",!0),P(".js-project-triage-pane",!0);var e=(0,a.query)(document,".js-project-triage-pane");e.addEventListener("animationend",function(){(0,a.query)(e,".js-project-triage-search-text",HTMLInputElement).focus()},{once:!0})}),(0,i.on)("click",".js-show-project-menu",function(){!function(){var e=document.querySelector(".js-project-activity-results");if(e){var t=e.getAttribute("data-project-activity-url");(0,te.default)(t,"`data-project-activity-url` must exist -- github/projects.js:446");var n=new URL(t,window.location.origin);e.setAttribute("src",n.toString())}}(),P(".js-project-triage-pane",!1),P(".js-project-menu-pane",!0)}),(0,i.on)("click",".js-hide-project-menu",function(){P(".js-project-menu-pane",!1),P(".js-project-triage-pane",!1)}),(0,i.on)("click",".js-show-triage",function(e){B(e,!0)}),(0,i.on)("click",".js-hide-triage",function(e){B(e,!1)}),E(".js-project-search-form",function(e,t){var n,r,o;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e.classList.add("loading"),i.next=3,regeneratorRuntime.awrap(t.html());case 3:n=i.sent,r=(0,a.closest)(e,".js-project-triage-pane"),(o=(0,a.query)(r,".js-project-search-results")).innerHTML="",o.append(n.html),e.classList.remove("loading");case 9:case"end":return i.stop()}},null,this)}),E(".js-project-activity-form",function(e,t){var n,r,o;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(t.html());case 2:n=i.sent,r=(0,a.closest)(e,".js-project-activity-pane"),(o=r.querySelector(".js-project-activity-container"))&&((0,te.default)(o instanceof HTMLElement,"github/projects.js:508"),o.innerHTML="",o.append(n.html)),r&&((0,te.default)(r instanceof HTMLElement,"github/projects.js:514"),r.classList.remove("Details--on"));case 7:case"end":return i.stop()}},null,this)}),(0,g.observe)(".js-project-column-card",function(e){if(e.getAttribute("data-card-id")){var t=e.getAttribute("data-content-type"),n=e.getAttribute("data-content-id"),r=document.getElementById("card-"+t+"-"+n);r&&r.remove()}}),(0,g.observe)(".js-more-search-cards-form",{add:function(e){e.addEventListener("page:loaded",F)},remove:function(e){e.removeEventListener("page:loaded",F)}}),(0,i.on)("click",".js-dismiss-note-form-button",function(e){O(e.currentTarget)}),(0,y.onFocus)(".js-note-text",function(e){var t=(0,Z.default)(e,HTMLTextAreaElement);(0,r.addThrottledInputEventListener)(t,N),t.addEventListener("blur",function(){(0,r.removeThrottledInputEventListener)(t,N)},{once:!0})}),(0,g.observe)(".js-project-note-form",{add:function(e){e.addEventListener("keyup",U)},remove:function(e){e.removeEventListener("keyup",U)}}),E(".js-preview-note-form",function(e,t){var n,r,o,i,c;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=(0,a.closest)(e,".js-project-column"),r=(0,a.query)(n,".js-note-text",HTMLTextAreaElement),o=(0,a.query)(n,".js-note-preview"),i=void 0,s.prev=4,s.next=7,regeneratorRuntime.awrap(t.html());case 7:c=s.sent,i=c.html,s.next=13;break;case 11:s.prev=11,s.t0=s.catch(4);case 13:o.innerHTML="",i&&r.getAttribute("data-preview-text")===r.value&&o.appendChild(i);case 15:case"end":return s.stop()}},null,this,[[4,11]])}),(0,y.onFocus)(".js-project-repository-picker-field",function(e){var t=(0,Z.default)(e,HTMLInputElement);(0,r.addThrottledInputEventListener)(t,K),t.addEventListener("blur",function(){(0,r.removeThrottledInputEventListener)(t,K)},{once:!0})}),(0,g.observe)("#facebox .js-project-repository-picker-field",function(e){K((0,Z.default)(e,HTMLInputElement))}),(0,i.on)("click",".js-project-repository-picker-tabs .js-select-menu-tab",function(e){var t=(0,a.closest)(e.currentTarget,".js-select-menu-deferred-content");K((0,a.query)(t,".js-project-repository-picker-field",HTMLInputElement))}),E(".js-project-note-form",function(e,n){var r,o,c,s,u,l,d;return regeneratorRuntime.async(function(m){for(;;)switch(m.prev=m.next){case 0:return r=(0,a.query)(e,"textarea",HTMLTextAreaElement),r.disabled=!0,o=(0,a.query)(e,"button",HTMLButtonElement),o.disabled=!0,(c=e.closest(".js-project-column"))&&(s=(0,a.query)(c,".js-note-text")).removeAttribute("data-preview-text"),u=void 0,m.prev=7,m.next=10,regeneratorRuntime.awrap(n.html());case 10:u=m.sent,m.next=22;break;case 13:return m.prev=13,m.t0=m.catch(7),u=m.t0.response,c&&u&&u.html&&409===u.status&&((l=(0,a.query)(c,".js-note-preview")).innerHTML="",l.appendChild(u.html)),o.disabled=!1,r.blur(),r.disabled=!1,r.focus(),m.abrupt("return");case 22:c?((d=(0,a.query)(c,".js-note-preview")).innerHTML="",function(e,t){(0,a.query)(e,".js-project-column-cards").prepend(t),T(e,1)}(c,u.html)):function(e,t){var n=t.querySelector("*");if(n&&n.classList.contains("js-note-form-container")){var r=e.closest(".js-note-form-container");(0,te.default)(r,"github/projects.js:729"),r.replaceWith(t)}else{var o=e.getAttribute("data-card-id")||"",a=document.getElementById("card-"+o);a&&a.replaceWith(t),(0,i.fire)(document,"facebox:close")}}(e,u.html),r.blur(),r.disabled=!1,(0,t.changeValue)(r,""),r.focus();case 27:case"end":return m.stop()}},null,this,[[7,13]])}),E(".js-project-column-card .js-comment-update",function(e,t,r){var o,i,c,s,u,l,d;return regeneratorRuntime.async(function(m){for(;;)switch(m.prev=m.next){case 0:return o=(0,a.closest)(e,".js-task-list-container"),i=(0,a.closest)(e,".js-project-column-card"),c=e.getAttribute("data-note-version")||"",r.headers.set("X-Note-Version",c),s=void 0,m.prev=5,m.next=8,regeneratorRuntime.awrap(t.json());case 8:s=m.sent,m.next=22;break;case 11:if(m.prev=11,m.t0=m.catch(5),!(s=m.t0.response)||422!==s.status||!s.json.stale){m.next=21;break}return(0,n.displayUpdateMessage)(s.json.message),W(o),(0,x.updateContent)(i),m.abrupt("return");case 21:throw m.t0;case 22:e.setAttribute("data-note-version",s.json.note_version),u=s.json.note,(l=(0,a.query)(o,".js-task-list-field",HTMLTextAreaElement)).value=u,(d=(0,a.query)(i,".js-edit-note-input",HTMLTextAreaElement)).textContent=u,W(o);case 29:case"end":return m.stop()}},null,this,[[5,11]])});var ae=(0,z.default)(o.filterCards,1);(0,i.on)("click",".js-card-filter-clear",function(){var e=(0,a.query)(document,".js-card-filter-input",HTMLInputElement);e.value="",(0,i.fire)(e,"input")}),document.addEventListener("facebox:reveal",function(){$()}),(0,i.on)("click",".js-column-purpose-selector .js-navigation-item",function(e){$((0,a.query)(e.currentTarget,".js-column-purpose-value",HTMLInputElement).value)}),(0,i.on)("menu:activate",".js-column-purpose-selector",function(e){(0,a.query)(e.currentTarget,".js-column-purpose-button",HTMLButtonElement).disabled&&e.preventDefault()}),(0,g.observe)(".js-project-column-card",{add:ae,remove:ae}),(0,g.observe)(".js-card-filter-input",function(e){e.addEventListener("input",(0,z.default)(o.filterCards,500)),(0,r.addThrottledInputEventListener)(e,function(){(0,o.updateSuggestionsDisplay)(e)})}),(0,i.on)("focusin",".js-card-filter-input",function(e){e.currentTarget instanceof HTMLInputElement&&(0,o.updateSuggestionsDisplay)(e.currentTarget)}),(0,i.on)("focusout:delay",".js-card-filter-input",function(){(0,o.hideSuggestions)()}),(0,i.on)("click",".js-card-filter-suggestion",function(){(0,a.query)(document,".js-card-filter-input",HTMLInputElement).focus()}),(0,i.on)("click",".js-card-filter-assignee",function(e){var t=e.currentTarget.getAttribute("data-assignee");t&&(0,o.applyFilter)("assignee",t)}),(0,i.on)("click",".js-card-filter-label",function(e){var t=e.currentTarget.getAttribute("data-label");t&&((t.indexOf(" ")>=0||t.indexOf(":")>=0)&&(t='"'+t+'"'),(0,o.applyFilter)("label",t))}),(0,i.on)("navigation:keydown",".js-card-filter-suggester",function(e){switch((0,te.default)(e instanceof CustomEvent,"github/projects.js:908"),(0,ee.default)(e.detail.originalEvent)){case"Escape":e.preventDefault(),(0,o.hideSuggestions)();break;case"ArrowLeft":case"ArrowRight":case"Enter":(0,o.hideSuggestions)()}}),(0,i.on)("navigation:open",".js-card-filter-suggester",function(e){var t=document.querySelector(".js-card-filter-input");if(t instanceof HTMLInputElement){var n=(0,a.query)(document,".js-card-filter-suggester"),r=e.target.getAttribute("data-value")||"",c=t.value.slice(0,t.selectionEnd).replace(/\S+$/,""),s=t.value.slice(t.selectionEnd);n.classList.contains("d-none")||(e.preventDefault(),t.value=c+r+s,(0,i.fire)(t,"input"),(0,o.updateSuggestionsDisplay)(t)),(0,o.hideSuggestions)()}}),(0,i.on)("socket:message",".js-project-columns-container",function(e){var r,o,a;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((0,te.default)(e instanceof CustomEvent,"github/projects.js:959"),r=e.detail.data,!V(e)){i.next=4;break}return i.abrupt("return");case 4:if(re===r.client_uid){i.next=13;break}return o=e.currentTarget,(a=document.querySelector(".js-project-search-form"))instanceof HTMLFormElement&&(0,t.submit)(a),i.next=10,regeneratorRuntime.awrap((0,ne.default)());case 10:(0,n.updateProject)(o,r),i.next=14;break;case 13:"column_automation_updated"===r.action&&null!=r.state&&(0,n.updateProjectColumnAutomation)(r.state);case 14:case"end":return i.stop()}},null,this)}),document.addEventListener("socket:message",function(e){(0,te.default)(e instanceof CustomEvent,"github/projects.js:984");var t=e.detail.data;if(t&&t.is_project_activity){var n=document.querySelector(".js-project-activity-pane");n&&n.classList.add("Details--on")}e.detail.name.startsWith("projects:metadata:")&&(document.title=t.name)}),(0,g.observe)(".js-project-columns-drag-container",function(e){X.default.create(e,{animation:150,draggable:".js-project-column",filter:".js-note-text, .js-redacted-project-column-card",preventOnFilter:!1,handleReplacedDragElement:!0,group:{name:"project-column",put:!1,pull:!1},onMove:I,onUpdate:H})}),(0,g.observe)(".js-card-drag-container",function(e){X.default.create(e,{animation:150,draggable:".js-project-column-card",filter:".js-redacted-project-column-card",fallbackClass:e.matches(".js-mobile-card-container")?"position-fixed":null,handle:e.matches(".js-mobile-card-container")?".js-project-column-card-dragger":null,preventOnFilter:!1,handleReplacedDragElement:!0,group:"project-card",onAdd:A,onUpdate:A})}),(0,g.observe)(".js-project-search-results-drag-container",function(e){X.default.create(e,{sort:!1,animation:150,draggable:".js-project-column-card",group:{name:"project-card",put:!1,pull:!0},onAdd:A,onUpdate:A})}),(0,g.observe)(".js-project-column-card",function(e){if(e.getAttribute("data-card-id")){var t=e.getAttribute("data-content-type"),n=e.getAttribute("data-content-id"),r=document.getElementById("card-"+t+"-"+n);r&&r.remove()}}),(0,g.observe)(".js-client-uid-field",function(e){e.value=re}),(0,i.on)("toggle",".js-project-card-build-status .js-dropdown-details",function(e){function t(){o.open||r()}function n(e){i.contains(e.target)||r()}function r(){o.removeAttribute("open"),i.classList.add("d-none"),o.appendChild(i),o.removeEventListener("toggle",t),window.removeEventListener("scroll",n)}var o=e.currentTarget,i=o.querySelector(".js-card-status-dropdown-menu");if(i){var c=(0,Z.default)(document.body,HTMLElement);o.addEventListener("toggle",t),window.addEventListener("scroll",n,{capture:!0,passive:!0}),i.classList.remove("d-none"),(0,a.query)(i,".js-details-container").classList.add("open"),c.appendChild(i);var s=c.getBoundingClientRect().height,u=i.getBoundingClientRect(),l=o.getBoundingClientRect(),d=l.top;d+u.height+10>=s&&(d=Math.max(s-u.height-10,0));var m=l.right;null!=o.closest(".js-project-triage-pane")&&(m=Math.max(l.left-u.width-10,0)),i.style.top=d+"px",i.style.left=m+"px",i.style.right="auto"}},{capture:!0}),(0,i.on)("click",".js-project-column-navigation-item",function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-column-id");(0,te.default)(t,"github/projects.js:1172"),G(t),J(t)}),(0,i.on)("click",".js-add-card-to-active-column",function(e){var t=(0,a.closest)(e.currentTarget,".js-project-column-card"),n=document.querySelector(".js-project-column[data-active-column] .js-project-column-cards");n&&(e.currentTarget.remove(),t.classList.add("anim-fade-out"),t.addEventListener("animationend",function(){t.classList.remove("anim-fade-out"),n.prepend(t),q(t)},{once:!0}))}),(0,i.on)("click",".js-open-active-column-facebox",function(e){var t=document.querySelector(".js-project-column[data-active-column]");if(t){var n=t.getAttribute("data-id")||"",r=e.currentTarget.getAttribute("data-facebox-prefix")||"";(0,Q.default)({div:r+n},"project-modal")}e.preventDefault()}),(0,i.on)("click",".js-toggle-card-edit-mode",function(e){e.currentTarget.classList.toggle("selected"),(0,a.query)(document,".js-project-columns-container").classList.toggle("project-edit-mode")}),(0,i.on)("overlay:opened",".js-move-card-to-column-overlay",function(e){(0,te.default)(e instanceof CustomEvent,"github/projects.js:1217");var t=(0,Z.default)(e.detail.button,HTMLElement),n=(0,a.closest)(t,".js-project-column-card").getAttribute("data-card-id");(0,te.default)(n,"github/projects.js:1221");var r=(0,a.closest)(t,".js-project-column").getAttribute("data-id");(0,te.default)(r,"github/projects.js:1223");var o=(0,a.query)(e.currentTarget,".js-move-card-to-column-overlay-body"),i=(0,a.query)(e.currentTarget,".js-move-card-to-column-button-template");o.innerHTML="";var c=!0,s=!1,u=void 0;try{for(var l,d=document.querySelectorAll(".js-project-column-navigation-item")[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var m=l.value,f=m.getAttribute("data-column-id"),v=(0,a.query)(i.content.cloneNode(!0),".js-move-card-to-column-button");v.setAttribute("data-card-id",n),v.setAttribute("data-column-id",f),v.textContent=m.getAttribute("data-column-name")||"",v.disabled=f===r,o.appendChild(v)}}catch(e){s=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(s)throw u}}}),(0,i.on)("click",".js-move-card-to-column-button",function(e){var t=e.currentTarget.getAttribute("data-card-id");(0,te.default)(t,"github/projects.js:1242");var n=e.currentTarget.getAttribute("data-column-id");(0,te.default)(n,"github/projects.js:1244");var r=document.querySelector('.js-project-column-card[data-card-id="'+t+'"]'),o=document.querySelector('.js-project-column[data-id="'+n+'"] .js-project-column-cards');if(r&&o){G(n),J(n);var a=r.closest(".js-project-column");o.prepend(r),q(r,a)}}),(0,i.on)("click",".js-add-note-button",function(e){e.preventDefault();var t=document.querySelector(".js-project-column[data-active-column] .js-add-note-container .js-details-target");t&&(0,C.toggleDetailsTarget)(t)}),(0,d.enableKeyboardMovements)(q,M),function(){var e=void 0;if(document.location.hash.startsWith("#column-")&&(e=document.getElementById(document.location.hash.substr(1))),e||(e=document.querySelector(".js-project-column")),e){var t=e.getAttribute("data-id");t&&G(t)}}()}),ghImport("github/projects").catch(function(e){setTimeout(function(){throw e})});
